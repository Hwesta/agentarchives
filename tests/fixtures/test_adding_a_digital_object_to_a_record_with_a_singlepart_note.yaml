interactions:
- request:
    body: !!binary |
      ZXhwaXJpbmc9RmFsc2UmcGFzc3dvcmQ9YWRtaW4=
    headers:
      Accept: ['*/*']
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['29']
      Content-Type: [application/x-www-form-urlencoded]
      User-Agent: [python-requests/2.9.1]
    method: POST
    uri: http://localhost:8089/users/admin/login
  response:
    body: {string: '{"session":"1ea928f79eb921a2857d5ef2f4ffa1a0d3c9a8daf667c69e7b64fd6e333dd7a3","user":{"lock_version":803,"username":"admin","name":"Administrator","is_system_user":true,"create_time":"2015-06-11T17:04:21Z","system_mtime":"2016-01-07T18:46:35Z","user_mtime":"2016-01-07T18:46:35Z","jsonmodel_type":"user","groups":[],"is_admin":true,"uri":"/users/1","agent_record":{"ref":"/agents/people/1"},"permissions":{"/repositories/1":["update_location_record","delete_vocabulary_record","update_subject_record","delete_subject_record","update_agent_record","delete_agent_record","update_vocabulary_record","merge_subject_record","merge_agent_record","administer_system","become_user","cancel_importer_job","create_repository","delete_archival_record","delete_classification_record","delete_event_record","delete_repository","import_records","index_system","manage_agent_record","manage_repository","manage_subject_record","manage_users","manage_vocabulary_record","mediate_edits","merge_agents_and_subjects","merge_archival_record","suppress_archival_record","system_config","transfer_archival_record","transfer_repository","update_accession_record","update_classification_record","update_digital_object_record","update_event_record","update_resource_record","view_all_records","view_repository","view_suppressed"],"_archivesspace":["administer_system","become_user","cancel_importer_job","create_repository","delete_archival_record","delete_classification_record","delete_event_record","delete_repository","import_records","index_system","manage_agent_record","manage_repository","manage_subject_record","manage_users","manage_vocabulary_record","mediate_edits","merge_agents_and_subjects","merge_archival_record","suppress_archival_record","system_config","transfer_archival_record","transfer_repository","update_accession_record","update_classification_record","update_digital_object_record","update_event_record","update_resource_record","view_all_records","view_repository","view_suppressed","update_location_record","delete_vocabulary_record","update_subject_record","delete_subject_record","update_agent_record","delete_agent_record","update_vocabulary_record","merge_subject_record","merge_agent_record"]}}}

'}
    headers:
      Cache-Control: ['private, must-revalidate, max-age=0']
      Content-Length: ['2206']
      Content-Type: [application/json]
      Date: ['Thu, 07 Jan 2016 18:46:35 GMT']
      Server: [Jetty(8.1.5.v20120716)]
      X-Content-Type-Options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: ['*/*']
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: [python-requests/2.9.1]
      X-ArchivesSpace-Session: [1ea928f79eb921a2857d5ef2f4ffa1a0d3c9a8daf667c69e7b64fd6e333dd7a3]
    method: GET
    uri: http://localhost:8089/repositories/2/archival_objects/21
  response:
    body: {string: '{"lock_version":0,"position":1,"publish":false,"ref_id":"4e160068664159ca2107de634a3183f9","title":"Child
        with singlepart note","display_string":"Child with singlepart note","restrictions_apply":false,"created_by":"admin","last_modified_by":"admin","create_time":"2016-01-07T18:40:06Z","system_mtime":"2016-01-07T18:40:06Z","user_mtime":"2016-01-07T18:40:06Z","suppressed":false,"level":"series","jsonmodel_type":"archival_object","external_ids":[],"subjects":[],"linked_events":[],"extents":[],"dates":[],"external_documents":[],"rights_statements":[],"linked_agents":[],"instances":[],"notes":[{"jsonmodel_type":"note_singlepart","type":"abstract","content":["This
        is an abstract"],"persistent_id":"a8704fed6c62a8fa51dbc17affc8df5f","publish":false}],"uri":"/repositories/2/archival_objects/21","repository":{"ref":"/repositories/2"},"resource":{"ref":"/repositories/2/resources/2"},"has_unpublished_ancestor":true}

'}
    headers:
      Cache-Control: ['private, must-revalidate, max-age=0']
      Content-Length: ['918']
      Content-Type: [application/json]
      Date: ['Thu, 07 Jan 2016 18:46:35 GMT']
      Server: [Jetty(8.1.5.v20120716)]
      X-Content-Type-Options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: !!binary |
      eyJ0aXRsZSI6ICJUZXN0IGRpZ2l0YWwgb2JqZWN0IHdob3NlIHBhcmVudCBoYXMgYSBzaW5nbGVw
      YXJ0IG5vdGUiLCAic3ViamVjdHMiOiBbXSwgImxhbmd1YWdlIjogIiIsICJub3RlcyI6IFt7Imxh
      YmVsIjogIiIsICJ0eXBlIjogIm5vdGUiLCAianNvbm1vZGVsX3R5cGUiOiAibm90ZV9kaWdpdGFs
      X29iamVjdCIsICJwdWJsaXNoIjogZmFsc2UsICJjb250ZW50IjogWyJUaGlzIGlzIGFuIGFic3Ry
      YWN0Il19XSwgImRpZ2l0YWxfb2JqZWN0X3R5cGUiOiAidGV4dCIsICJkaWdpdGFsX29iamVjdF9p
      ZCI6ICI1ZjQ2NGRiMi05MzY1LTQ5MmYtYjdjNy03OTU4YmFlYjAzODgiLCAibGlua2VkX2FnZW50
      cyI6IFtdLCAicmVzdHJpY3Rpb25zIjogZmFsc2V9
    headers:
      Accept: ['*/*']
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['372']
      User-Agent: [python-requests/2.9.1]
      X-ArchivesSpace-Session: [1ea928f79eb921a2857d5ef2f4ffa1a0d3c9a8daf667c69e7b64fd6e333dd7a3]
    method: POST
    uri: http://localhost:8089/repositories/2/digital_objects
  response:
    body: {string: '{"status":"Created","id":9,"lock_version":0,"stale":null,"uri":"/repositories/2/digital_objects/9","warnings":[]}

'}
    headers:
      Cache-Control: ['private, must-revalidate, max-age=0']
      Content-Length: ['114']
      Content-Type: [application/json]
      Date: ['Thu, 07 Jan 2016 18:46:35 GMT']
      Server: [Jetty(8.1.5.v20120716)]
      X-Content-Type-Options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: !!binary |
      eyJ0aXRsZSI6ICJDaGlsZCB3aXRoIHNpbmdsZXBhcnQgbm90ZSIsICJleHRlcm5hbF9pZHMiOiBb
      XSwgImxhc3RfbW9kaWZpZWRfYnkiOiAiYWRtaW4iLCAibGlua2VkX2FnZW50cyI6IFtdLCAiY3Jl
      YXRlZF9ieSI6ICJhZG1pbiIsICJwdWJsaXNoIjogZmFsc2UsICJsaW5rZWRfZXZlbnRzIjogW10s
      ICJsZXZlbCI6ICJzZXJpZXMiLCAicmVmX2lkIjogIjRlMTYwMDY4NjY0MTU5Y2EyMTA3ZGU2MzRh
      MzE4M2Y5IiwgImhhc191bnB1Ymxpc2hlZF9hbmNlc3RvciI6IHRydWUsICJyaWdodHNfc3RhdGVt
      ZW50cyI6IFtdLCAic3lzdGVtX210aW1lIjogIjIwMTYtMDEtMDdUMTg6NDA6MDZaIiwgImxvY2tf
      dmVyc2lvbiI6IDAsICJleHRlbnRzIjogW10sICJjcmVhdGVfdGltZSI6ICIyMDE2LTAxLTA3VDE4
      OjQwOjA2WiIsICJ1c2VyX210aW1lIjogIjIwMTYtMDEtMDdUMTg6NDA6MDZaIiwgInN1YmplY3Rz
      IjogW10sICJzdXBwcmVzc2VkIjogZmFsc2UsICJyZXNvdXJjZSI6IHsicmVmIjogIi9yZXBvc2l0
      b3JpZXMvMi9yZXNvdXJjZXMvMiJ9LCAicmVwb3NpdG9yeSI6IHsicmVmIjogIi9yZXBvc2l0b3Jp
      ZXMvMiJ9LCAicmVzdHJpY3Rpb25zX2FwcGx5IjogZmFsc2UsICJ1cmkiOiAiL3JlcG9zaXRvcmll
      cy8yL2FyY2hpdmFsX29iamVjdHMvMjEiLCAicG9zaXRpb24iOiAxLCAianNvbm1vZGVsX3R5cGUi
      OiAiYXJjaGl2YWxfb2JqZWN0IiwgImV4dGVybmFsX2RvY3VtZW50cyI6IFtdLCAibm90ZXMiOiBb
      eyJ0eXBlIjogImFic3RyYWN0IiwgInB1Ymxpc2giOiBmYWxzZSwgImpzb25tb2RlbF90eXBlIjog
      Im5vdGVfc2luZ2xlcGFydCIsICJwZXJzaXN0ZW50X2lkIjogImE4NzA0ZmVkNmM2MmE4ZmE1MWRi
      YzE3YWZmYzhkZjVmIiwgImNvbnRlbnQiOiBbIlRoaXMgaXMgYW4gYWJzdHJhY3QiXX1dLCAiZGlz
      cGxheV9zdHJpbmciOiAiQ2hpbGQgd2l0aCBzaW5nbGVwYXJ0IG5vdGUiLCAiaW5zdGFuY2VzIjog
      W3siaW5zdGFuY2VfdHlwZSI6ICJkaWdpdGFsX29iamVjdCIsICJkaWdpdGFsX29iamVjdCI6IHsi
      cmVmIjogIi9yZXBvc2l0b3JpZXMvMi9kaWdpdGFsX29iamVjdHMvOSJ9fV0sICJkYXRlcyI6IFtd
      fQ==
    headers:
      Accept: ['*/*']
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['1084']
      User-Agent: [python-requests/2.9.1]
      X-ArchivesSpace-Session: [1ea928f79eb921a2857d5ef2f4ffa1a0d3c9a8daf667c69e7b64fd6e333dd7a3]
    method: POST
    uri: http://localhost:8089/repositories/2/archival_objects/21
  response:
    body: {string: '{"status":"Updated","id":21,"lock_version":1,"stale":true,"uri":"/repositories/2/archival_objects/21","warnings":[]}

'}
    headers:
      Cache-Control: ['private, must-revalidate, max-age=0']
      Content-Length: ['117']
      Content-Type: [application/json]
      Date: ['Thu, 07 Jan 2016 18:46:35 GMT']
      Server: [Jetty(8.1.5.v20120716)]
      X-Content-Type-Options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: ['*/*']
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: [python-requests/2.9.1]
      X-ArchivesSpace-Session: [1ea928f79eb921a2857d5ef2f4ffa1a0d3c9a8daf667c69e7b64fd6e333dd7a3]
    method: GET
    uri: http://localhost:8089/repositories/2/digital_objects/9
  response:
    body: {string: '{"lock_version":1,"digital_object_id":"5f464db2-9365-492f-b7c7-7958baeb0388","title":"Test
        digital object whose parent has a singlepart note","restrictions":false,"created_by":"admin","last_modified_by":"admin","create_time":"2016-01-07T18:46:35Z","system_mtime":"2016-01-07T18:46:35Z","user_mtime":"2016-01-07T18:46:35Z","suppressed":false,"digital_object_type":"text","jsonmodel_type":"digital_object","external_ids":[],"subjects":[],"linked_events":[],"extents":[],"dates":[],"external_documents":[],"rights_statements":[],"linked_agents":[],"file_versions":[],"notes":[{"type":"note","jsonmodel_type":"note_digital_object","content":["This
        is an abstract"],"persistent_id":"8c569b3744607ce9dbb17b1f2ca4dff0","publish":false}],"linked_instances":[{"ref":"/repositories/2/archival_objects/21"}],"uri":"/repositories/2/digital_objects/9","repository":{"ref":"/repositories/2"},"tree":{"ref":"/repositories/2/digital_objects/9/tree"}}

'}
    headers:
      Cache-Control: ['private, must-revalidate, max-age=0']
      Content-Length: ['935']
      Content-Type: [application/json]
      Date: ['Thu, 07 Jan 2016 18:46:36 GMT']
      Server: [Jetty(8.1.5.v20120716)]
      X-Content-Type-Options: [nosniff]
    status: {code: 200, message: OK}
version: 1
